<!-- Sample Reads -->
<%@ val rawSample: String %>
<%@ val filteredSample: String %>
<% val alignment = filteredSample.concat(">.alignmentData") %>

<div id="${filteredSample}" class="samples">

    <div class="sampleLegend">
        <div class="col-md-9 title">${rawSample}</div>
        <div class='col-md-3'>
            <input  value="viewAlignments"
                    name="viewAlignments"
                    type="checkbox"
                    onClick="toggleAlignments('${rawSample}')"
                    id='viewAlignments${filteredSample}'
                    class="viewAlignments">
            <label for="viewAlignments">Alignments</label>
        </div>
    </div>

    <div class="sampleSummary">
        <svg class="coverage-svg absolute"></svg>
        <svg class="mismatch-svg absolute"></svg>
    </div>

    <div class="sampleIndels">
        <svg></svg>
    </div>

    <div class="alignmentData">
        <svg></svg>
    </div>

</div>

<script>
    var alignmentSelector = $(getAlignmentSelector('${filteredSample}'));
    $(alignmentSelector).hide();

    //Configuration Variables
    var readsHeight = 100;
    var padding = 3;
    var readTrackHeight = 10;

    var yAxisScale = d3.scale.linear()
          .range([0,readsHeight]);
    var yAxis = d3.svg.axis()
          .scale(yAxisScale)
          .ticks(4)
          .orient("left");
    var svg = d3.select("body").append("svg")
    svg.append("g")
      .attr("class", "y axis")
      .attr("transform", "translate(5,0)")
      .call(yAxis);

    var mismatchHeight = readsHeight;
    var width = $(".graphArea").width();

    // stores sample mismatch and indel data
    var readCountSvgContainer = {};

    // stores sample alignment data. Contains MODIFIED samples as keys
    var readAlignmentRegion = {};

    var yOffset = 200;

    // on enter submits search form for chromosomal position
    $('.alignment-search').keypress(function (e) {
        if (e.which == 13) {
            checkForm(this.form);
            return false;
        }
    });

</script>